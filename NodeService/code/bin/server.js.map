{"version":3,"sources":["../src/server.js"],"names":["app","env","process","port","geoLocation","client","uri","proxyStub","get","req","res","status","json","ready","proxy","hasOwnProperty","listen","console","log"],"mappings":";;AAAA;;;;AACA;;;;AAEA,IAAIA,MAAM,wBAAV;AACA,IAAIC,MAAMC,QAAQD,GAAlB;AACA,IAAIE,OAAOF,IAAI,MAAJ,CAAX;AACA,IAAIG,cAAcH,IAAI,cAAJ,CAAlB;;AAEA,IAAOI,SAAS,mBAAW,EAACC,KAAKF,WAAN,EAAX,CAAhB;AACA,IAAIG,kBAAJ;;AAEAP,IAAIQ,GAAJ,CAAQ,UAAR,EAAoB,UAACC,GAAD,EAAMC,GAAN,EAAY;AAC5BA,QAAIC,MAAJ,CAAW,GAAX;AACAD,QAAIE,IAAJ,CAAS,EAAC,WAAYR,WAAb,EAAT;AACH,CAHD;;AAKAC,OAAOQ,KAAP,CAAa,UAACC,KAAD,EAAS;AAClBP,gBAAYO,KAAZ;;AAEAd,QAAIQ,GAAJ,CAAQ,OAAR,EAAiB,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACjCA,YAAIC,MAAJ,CAAW,GAAX;AACAD,YAAIE,IAAJ,CAASL,UAAUQ,cAAV,CAAyB,SAAzB,CAAT;AACH,KAHD;AAIH,CAPD;;AASAf,IAAIgB,MAAJ,CAAWb,IAAX;AACAc,QAAQC,GAAR,CAAY,6BAAZ","file":"server.js","sourcesContent":["import express from 'express';\nimport {Client} from 'eureca.io';\n\nlet app = express();\nlet env = process.env;\nlet port = env[\"PORT\"];\nlet geoLocation = env[\"GEO_LOCATION\"];\n\nconst  client = new Client({uri: geoLocation});\nlet proxyStub;\n\napp.get('/service', (req, res)=>{\n    res.status(200);\n    res.json({\"service\" : geoLocation});\n});\n\nclient.ready((proxy)=>{\n    proxyStub = proxy;\n\n    app.get('/test', function (req, res) {\n        res.status(200);\n        res.json(proxyStub.hasOwnProperty(\"GetById\"));\n    });\n});\n\napp.listen(port);\nconsole.log('Running on http://localhost');\n"]}